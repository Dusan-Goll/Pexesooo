class GamePrepare{constructor(){this.desk=document.getElementById("desk"),this.sizeSetting=localStorage.getItem("deckSize")||medium,this.playersNumber=localStorage.getItem("numOfPlayers")||2,this.pictures=picturesPaths,this.scoreBoxes,this.deck}prepare(){this.reducePlayers(),this.preparePictures(),this.createDeck()}reducePlayers(){let e=document.getElementsByClassName("score-box");this.scoreBoxes=Array.prototype.slice.call(e);let t=Number(this.playersNumber);4!==t&&(3==t?this.scoreBoxes.pop().remove():2==t&&(this.scoreBoxes.pop().remove(),this.scoreBoxes.pop().remove()))}preparePictures(){this.shuffle(this.pictures),this.reduceToHalf(this.pictures),this.double(this.pictures),this.shuffle(this.pictures)}createDeck(){let e=this.getNumberOfCards(),t=this.pictures;this.deck=[];for(let s=0;s<e;s++){let r=this.createCard(s,t[s]);this.desk.appendChild(r),this.deck.push(r)}}shuffle(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*t),r=e[t];e[t]=e[s],e[s]=r}this.pictures=e}reduceToHalf(e){let t=this.getNumberOfCards();e=e.slice(0,t/2),this.pictures=e}double(e){let t=[];e.forEach(e=>{t.push(e),t.push(e)}),e=t,this.pictures=e}getNumberOfCards(){let e,t=this.sizeSetting;return"small"===t?e=12:"medium"===t?e=20:"large"===t&&(e=30),e}createCard(e,t){let s=document.createElement("button");s.setAttribute("id",`card-${e}`),s.setAttribute("class","card");let r=document.createElement("img");return r.setAttribute("class","card-back-hidden"),r.setAttribute("src",t),s.appendChild(r),s}}